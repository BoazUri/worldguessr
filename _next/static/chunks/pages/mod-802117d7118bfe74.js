(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{1147:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{default:function(){return l},noSSR:function(){return o}});let r=s(4252);s(7876),s(4232);let t=r._(s(2100));function n(e){return{default:(null==e?void 0:e.default)||e}}function o(e,a){return delete a.webpack,delete a.modules,e(a)}function l(e,a){let s=t.default,r={loading:e=>{let{error:a,isLoading:s,pastDelay:r}=e;return null}};e instanceof Promise?r.loader=()=>e:"function"==typeof e?r.loader=e:"object"==typeof e&&(r={...r,...e});let l=(r={...r,...a}).loader;return(r.loadableGenerated&&(r={...r,...r.loadableGenerated},delete r.loadableGenerated),"boolean"!=typeof r.ssr||r.ssr)?s({...r,loader:()=>null!=l?l().then(n):Promise.resolve(n(()=>null))}):(delete r.webpack,delete r.modules,o(s,r))}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},1650:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"LoadableContext",{enumerable:!0,get:function(){return r}});let r=s(4252)._(s(4232)).default.createContext(null)},2100:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return h}});let r=s(4252)._(s(4232)),t=s(1650),n=[],o=[],l=!1;function d(e){let a=e(),s={loading:!0,loaded:null,error:null};return s.promise=a.then(e=>(s.loading=!1,s.loaded=e,e)).catch(e=>{throw s.loading=!1,s.error=e,e}),s}class i{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:a}=this;e.loading&&("number"==typeof a.delay&&(0===a.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},a.delay)),"number"==typeof a.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},a.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,a){this._loadFn=e,this._opts=a,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function c(e){return function(e,a){let s=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},a),n=null;function d(){if(!n){let a=new i(e,s);n={getCurrentValue:a.getCurrentValue.bind(a),subscribe:a.subscribe.bind(a),retry:a.retry.bind(a),promise:a.promise.bind(a)}}return n.promise()}if(!l){let e=s.webpack&&1?s.webpack():s.modules;e&&o.push(a=>{for(let s of e)if(a.includes(s))return d()})}function c(e,a){d();let o=r.default.useContext(t.LoadableContext);o&&Array.isArray(s.modules)&&s.modules.forEach(e=>{o(e)});let l=r.default.useSyncExternalStore(n.subscribe,n.getCurrentValue,n.getCurrentValue);return r.default.useImperativeHandle(a,()=>({retry:n.retry}),[]),r.default.useMemo(()=>{var a;return l.loading||l.error?r.default.createElement(s.loading,{isLoading:l.loading,pastDelay:l.pastDelay,timedOut:l.timedOut,error:l.error,retry:n.retry}):l.loaded?r.default.createElement((a=l.loaded)&&a.default?a.default:a,e):null},[e,l])}return c.preload=()=>d(),c.displayName="LoadableComponent",r.default.forwardRef(c)}(d,e)}function m(e,a){let s=[];for(;e.length;){let r=e.pop();s.push(r(a))}return Promise.all(s).then(()=>{if(e.length)return m(e,a)})}c.preloadAll=()=>new Promise((e,a)=>{m(n).then(e,a)}),c.preloadReady=e=>(void 0===e&&(e=[]),new Promise(a=>{let s=()=>(l=!0,a());m(o,e).then(s,s)})),window.__NEXT_PRELOADREADY=c.preloadReady;let h=c},3234:e=>{e.exports={modDashboard:"modDashboard_modDashboard__j97ix",header:"modDashboard_header__meypM",worldGuessrLogo:"modDashboard_worldGuessrLogo__mUauo",logoIcon:"modDashboard_logoIcon___wA0R",subHeader:"modDashboard_subHeader__oCCYQ",badge:"modDashboard_badge__uJhAJ",searchSection:"modDashboard_searchSection___I4Zk",searchBox:"modDashboard_searchBox__VwWt7",usernameInput:"modDashboard_usernameInput__y4QoS",searchBtn:"modDashboard_searchBtn__n9Qek",errorMessage:"modDashboard_errorMessage__ARpAX",gameHistorySection:"modDashboard_gameHistorySection__XCqoU",instructionsSection:"modDashboard_instructionsSection__AdGXF",instructions:"modDashboard_instructions__S6O3d",unauthorized:"modDashboard_unauthorized__15zZL",unauthorizedContent:"modDashboard_unauthorizedContent__Yl5LN",unauthorizedIcon:"modDashboard_unauthorizedIcon___0dzg",backBtn:"modDashboard_backBtn__4rWyL",loading:"modDashboard_loading__VBPqB",spin:"modDashboard_spin__8y16W",tabNavigation:"modDashboard_tabNavigation__h9Jrc",tab:"modDashboard_tab__UeY2m",activeTab:"modDashboard_activeTab__RnlY6",reportsSection:"modDashboard_reportsSection__GADKe",statsBar:"modDashboard_statsBar__QnaLB",statItem:"modDashboard_statItem__WPGKh",statLabel:"modDashboard_statLabel__1FIk5",statValue:"modDashboard_statValue__mJMrG",pending:"modDashboard_pending__9a63X",actionTaken:"modDashboard_actionTaken__VWuOd",filterBar:"modDashboard_filterBar__JBM7O",statusFilter:"modDashboard_statusFilter__C0g9o",refreshBtn:"modDashboard_refreshBtn__yDfwD",reportsList:"modDashboard_reportsList__Zzfft",reportCard:"modDashboard_reportCard__zDgCC",reportHeader:"modDashboard_reportHeader__l9ZqM",reportMeta:"modDashboard_reportMeta__gg13V",statusBadge:"modDashboard_statusBadge__5MZMp",reviewed:"modDashboard_reviewed__1zo7U",dismissed:"modDashboard_dismissed__r5Zc7",action_taken:"modDashboard_action_taken___268V",reportDate:"modDashboard_reportDate__jOhzB",reportId:"modDashboard_reportId__pqo3R",reportBody:"modDashboard_reportBody__IyEh_",reportUsers:"modDashboard_reportUsers__LR9sA",userInfo:"modDashboard_userInfo__Th5II",username:"modDashboard_username__PUbYf",reportReason:"modDashboard_reportReason__nOFbP",reasonBadge:"modDashboard_reasonBadge__8Cmyh",reportDescription:"modDashboard_reportDescription__mpZIa",reportGameInfo:"modDashboard_reportGameInfo__ngJH1",gameIdLink:"modDashboard_gameIdLink__kOGKz",noReports:"modDashboard_noReports___FKhZ",error:"modDashboard_error__GmbMM",loadingText:"modDashboard_loadingText__B_4Qh",gameLoadingOverlay:"modDashboard_gameLoadingOverlay__ElhSl",gameLoadingContent:"modDashboard_gameLoadingContent__X9AO8",loadingSpinner:"modDashboard_loadingSpinner__jyyRc",successMessage:"modDashboard_successMessage__R4AXe",userCard:"modDashboard_userCard__bXOvy",userCardHeader:"modDashboard_userCardHeader__mFvQS",userBadges:"modDashboard_userBadges__uyuzx",staffBadge:"modDashboard_staffBadge__wMkGe",supporterBadge:"modDashboard_supporterBadge__WPCP8",bannedBadge:"modDashboard_bannedBadge__ajzje",pendingNameBadge:"modDashboard_pendingNameBadge__HPW22",userStats:"modDashboard_userStats__n6qlg",banInfo:"modDashboard_banInfo__Ft3ES",userActions:"modDashboard_userActions__AbVYN",banBtn:"modDashboard_banBtn__mnmqT",tempBanBtn:"modDashboard_tempBanBtn__y0aOT",forceNameBtn:"modDashboard_forceNameBtn__v2GgH",ignoreBtn:"modDashboard_ignoreBtn__GtmFD",unbanBtn:"modDashboard_unbanBtn__sgGZT",resolveBtn:"modDashboard_resolveBtn__TfZkO",undoForceNameBtn:"modDashboard_undoForceNameBtn__IPHq4",reportGroup:"modDashboard_reportGroup__SfY5I",reportGroupHeader:"modDashboard_reportGroupHeader___ej0H",reportGroupUser:"modDashboard_reportGroupUser__2Jj7M",reportCountBadge:"modDashboard_reportCountBadge___1prC",groupActions:"modDashboard_groupActions__6T9t8",reporterStats:"modDashboard_reporterStats__CbXzx",reporterStatsNew:"modDashboard_reporterStatsNew__4BYD1",goodReporter:"modDashboard_goodReporter__6xdUc",badReporter:"modDashboard_badReporter__4JQIa",reporterBanHistory:"modDashboard_reporterBanHistory__01SY1",actionBadge:"modDashboard_actionBadge__MQ32h",modalOverlay:"modDashboard_modalOverlay__yz9X2",modal:"modDashboard_modal__o4Z_f",modalHeader:"modDashboard_modalHeader__ba_6H",modalClose:"modDashboard_modalClose__BRCK1",modalBody:"modDashboard_modalBody__Y5GgW",formGroup:"modDashboard_formGroup__P286w",select:"modDashboard_select__gFyPT",textarea:"modDashboard_textarea__lIu6u",warning:"modDashboard_warning__5U6qq",info:"modDashboard_info__QBF_C",modalFooter:"modDashboard_modalFooter__riiw_",cancelBtn:"modDashboard_cancelBtn__tf0H5",actionBtn:"modDashboard_actionBtn__TUKHD",ignore:"modDashboard_ignore__l_sPg",banpermanent:"modDashboard_banpermanent__SdMv8",bantemporary:"modDashboard_bantemporary__BLn34",forcenamechange:"modDashboard_forcenamechange__9AmAX",unban:"modDashboard_unban__rFkSX",historySection:"modDashboard_historySection__8QIwJ",historySummary:"modDashboard_historySummary__2VU87",historySubsection:"modDashboard_historySubsection__RDwBo",historyItem:"modDashboard_historyItem__gRNYr",historyBadge:"modDashboard_historyBadge___oZfu",ban_permanent:"modDashboard_ban_permanent__aPl0R",ban_temporary:"modDashboard_ban_temporary__k5OjB",historyReason:"modDashboard_historyReason__Vyjf9",historyDuration:"modDashboard_historyDuration__30_ZY",historyMeta:"modDashboard_historyMeta__DZvs3",noHistory:"modDashboard_noHistory__t_Epn",nameChange:"modDashboard_nameChange__lRyU_",permanent:"modDashboard_permanent__Xd_4d",temporary:"modDashboard_temporary__5_xg5",namechangeapproved:"modDashboard_namechangeapproved__Docpx",namechangerejected:"modDashboard_namechangerejected__j_VQ6",namechange:"modDashboard_namechange__R7qnT",reportignored:"modDashboard_reportignored__PfnNx",userStatusBadges:"modDashboard_userStatusBadges___Duck",statusBadgeWarning:"modDashboard_statusBadgeWarning__R5zIy",statusBadgeTempBan:"modDashboard_statusBadgeTempBan__2pMNc",statusBadgeBanned:"modDashboard_statusBadgeBanned__bsMKT",deleteUserBtn:"modDashboard_deleteUserBtn__bBSdv",multipleMatchesSection:"modDashboard_multipleMatchesSection__bZZDQ",multipleMatchesWarning:"modDashboard_multipleMatchesWarning__aC09n",matchesList:"modDashboard_matchesList__uS5j4",matchCard:"modDashboard_matchCard__g6j4B",matchCardBanned:"modDashboard_matchCardBanned__BNhSC",matchCardHeader:"modDashboard_matchCardHeader__Pq1o5",matchNumber:"modDashboard_matchNumber__MHd6v",matchUsername:"modDashboard_matchUsername__1epfY",matchBadges:"modDashboard_matchBadges__UrK9Z",matchInfo:"modDashboard_matchInfo__eRYf0",matchTypeCurrent:"modDashboard_matchTypeCurrent__HjEpR",matchTypePast:"modDashboard_matchTypePast__f2zGN",matchStats:"modDashboard_matchStats__KC0Vx",matchEmail:"modDashboard_matchEmail__dxy8g",matchAction:"modDashboard_matchAction__jdFgr",clearMatchesBtn:"modDashboard_clearMatchesBtn__pSNrL",accountId:"modDashboard_accountId__3q18J",clickableReport:"modDashboard_clickableReport__YxO53",viewLink:"modDashboard_viewLink__fO_2W",focusedReportOverlay:"modDashboard_focusedReportOverlay__B7umU",focusedReportCard:"modDashboard_focusedReportCard__fQf6Q",focusedReportHeader:"modDashboard_focusedReportHeader__AmgWK",focusedReportClose:"modDashboard_focusedReportClose__5x7RL",focusedReportBody:"modDashboard_focusedReportBody__frlIa",nameReviewCard:"modDashboard_nameReviewCard__jyq_C",nameReviewHeader:"modDashboard_nameReviewHeader__c1AHI",oldName:"modDashboard_oldName__eK7ad",nameArrow:"modDashboard_nameArrow__st_lx",newName:"modDashboard_newName__Dr_Yv",rejectionCount:"modDashboard_rejectionCount__zmTW_",nameReviewBody:"modDashboard_nameReviewBody__FKcgU",nameReviewActions:"modDashboard_nameReviewActions__o60e7",approveBtn:"modDashboard_approveBtn__wZOU4",rejectSection:"modDashboard_rejectSection__K4gvr",rejectInput:"modDashboard_rejectInput__qLjkA",rejectBtn:"modDashboard_rejectBtn__Muy39",auditLogCard:"modDashboard_auditLogCard__LkhqF",auditLogHeader:"modDashboard_auditLogHeader__T5so_",auditLogAction:"modDashboard_auditLogAction__7NgIa",auditLogDate:"modDashboard_auditLogDate__llekR",auditLogBody:"modDashboard_auditLogBody__P411X",auditLogRow:"modDashboard_auditLogRow__J_Vsr",auditLogLabel:"modDashboard_auditLogLabel__OW5Dd",auditLogValue:"modDashboard_auditLogValue__WTkTe",pagination:"modDashboard_pagination__HEdOp",pageBtn:"modDashboard_pageBtn__3WdDa",pageInfo:"modDashboard_pageInfo__yVUZW",filterSelect:"modDashboard_filterSelect__MfJPL",moderationInfo:"modDashboard_moderationInfo__n0V3Y",modInfoHeader:"modDashboard_modInfoHeader__lcI50",reviewDate:"modDashboard_reviewDate__W2tdK",modNotes:"modDashboard_modNotes__FJalJ",reportActionsCompact:"modDashboard_reportActionsCompact__dTR61",resolveBtnCompact:"modDashboard_resolveBtnCompact__e49vR",ignoreBtnCompact:"modDashboard_ignoreBtnCompact__G5uV0",banBtnCompact:"modDashboard_banBtnCompact__tuYnS",tempBanBtnCompact:"modDashboard_tempBanBtnCompact__k1MFP",forceNameBtnCompact:"modDashboard_forceNameBtnCompact__NA4uF",historyReportItem:"modDashboard_historyReportItem__UnOaC",historyReportActions:"modDashboard_historyReportActions__WeXKM",historyPagination:"modDashboard_historyPagination__yY3WV",historyPageBtn:"modDashboard_historyPageBtn__sc_Ek",historyPageInfo:"modDashboard_historyPageInfo__3KlvB",markresolved:"modDashboard_markresolved__2uMOr",highlighted:"modDashboard_highlighted__cpcAP",highlightPulse:"modDashboard_highlightPulse__fIatI",activityChartWrapper:"modDashboard_activityChartWrapper__nGVe5",activityTable:"modDashboard_activityTable__Geh_i",activityTotalRow:"modDashboard_activityTotalRow__Lagxp",activityTotalCol:"modDashboard_activityTotalCol__qPdtt",activityZero:"modDashboard_activityZero__hzgrH"}},3603:(e,a,s)=>{"use strict";function r(){var e;let a=!window||"https:"===window.location.protocol;return{apiUrl:(a?"https":"http")+"://api.worldguessr.com",websocketUrl:(a?"wss":"ws")+"://"+((e="server.worldguessr.com",void 0!==e)?e:"localhost:3002")+"/wg"}}s.d(a,{A:()=>r})},4279:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});var r=s(7876);function t(e){let{countryCode:a,style:s={},size:t=1,marginRight:n="0.4em"}=e;if(!a||""===a||"string"!=typeof a||2!==a.length)return null;let o=a.toLowerCase();return(0,r.jsx)("img",{src:"https://flagcdn.com/w80/".concat(o,".png"),srcSet:"".concat("https://flagcdn.com/w160/".concat(o,".png")," 2x"),alt:a,title:a,style:{display:"inline-block",width:"".concat(1.5*t,"em"),height:"".concat(t,"em"),marginRight:n,verticalAlign:"middle",flexShrink:0,objectFit:"cover",borderRadius:"2px",...s}})}},4716:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mod",function(){return s(4921)}])},4921:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>_});var r=s(7876),t=s(4250),n=s(4232),o=s(7328),l=s(9099),d=s(1173),i=s(1771),c=s(7648),m=s(3234);function h(e){let{targetUser:a,reportIds:s=[],reports:t=[],onAction:n,showForceNameChange:o,compact:l=!1,showResolve:d=!0,showIgnore:i=!0,showBan:c=!0}=e,h=void 0!==o?o:t.some(e=>"inappropriate_username"===e.reason),u=t.filter(e=>"inappropriate_username"===e.reason).map(e=>e._id),p=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n&&n(e,a,r.reportIds||s,r)};return l?(0,r.jsxs)("div",{className:m.reportActionsCompact,children:[d&&(0,r.jsx)("button",{className:m.resolveBtnCompact,onClick:()=>p("mark_resolved"),title:"Mark Resolved (report was valid but no action needed)",children:"✅"}),i&&(0,r.jsx)("button",{className:m.ignoreBtnCompact,onClick:()=>p("ignore"),title:"Ignore (spam/invalid report)",children:"\uD83D\uDEAB"}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:m.banBtnCompact,onClick:()=>p("ban_permanent"),title:"Permanent Ban",children:"⛔"}),(0,r.jsx)("button",{className:m.tempBanBtnCompact,onClick:()=>p("ban_temporary"),title:"Temporary Ban",children:"⏱️"})]}),h&&(0,r.jsx)("button",{className:m.forceNameBtnCompact,onClick:()=>p("force_name_change",{reportIds:u.length>0?u:s,hasInappropriateUsername:!0}),title:"Force Name Change",children:"✏️"})]}):(0,r.jsxs)("div",{className:m.groupActions,children:[d&&(0,r.jsx)("button",{className:m.resolveBtn,onClick:()=>p("mark_resolved"),children:"✅ Resolve"}),i&&(0,r.jsx)("button",{className:m.ignoreBtn,onClick:()=>p("ignore"),children:"\uD83D\uDEAB Ignore"}),c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:m.banBtn,onClick:()=>p("ban_permanent"),children:"⛔ Ban"}),(0,r.jsx)("button",{className:m.tempBanBtn,onClick:()=>p("ban_temporary"),children:"⏱️ Temp Ban"})]}),h&&(0,r.jsx)("button",{className:m.forceNameBtn,onClick:()=>p("force_name_change",{reportIds:u.length>0?u:s,hasInappropriateUsername:!0}),children:"✏️ Force Name"})]})}function u(e){let{dailyReports:a,selectedMod:t,dailyByModerator:o,moderators:l}=e,d=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e=!1;return(async()=>{var r;let{Chart:n,CategoryScale:c,LinearScale:m,BarElement:h,BarController:u,Title:p,Tooltip:g,Legend:_}=await Promise.all([s.e(697),s.e(601)]).then(s.bind(s,1047));if(e)return;n.register(c,m,h,u,p,g,_),i.current&&i.current.destroy();let x=t&&"all"!==t,j=x?null==(r=l.find(e=>e.accountId===t))?void 0:r.username:null,b=x?[{label:"".concat(j," - Actions"),data:(null==o?void 0:o[t])||a.map(()=>0),backgroundColor:"rgba(88, 166, 255, 0.8)",borderRadius:2}]:[{label:"Incoming",data:a.map(e=>e.incoming),backgroundColor:"rgba(248, 81, 73, 0.8)",borderRadius:2},{label:"Handled",data:a.map(e=>e.handled),backgroundColor:"rgba(63, 185, 80, 0.8)",borderRadius:2}];i.current=new n(d.current,{type:"bar",data:{labels:a.map(e=>e.day),datasets:b},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#b1bac4",font:{size:12}}},title:{display:!0,text:x?"".concat(j," - Daily Actions"):"Daily Reports: Incoming vs Handled",color:"#e6edf3",font:{size:14,weight:"600"}},tooltip:x?{}:{callbacks:{afterBody:e=>{let s=a[e[0].dataIndex],r=s.incoming-s.handled;return r>0?"Backlog: +".concat(r):r<0?"Cleared: ".concat(Math.abs(r)," extra"):"Even"}}}},scales:{x:{ticks:{color:"#8b949e"},grid:{color:"rgba(48, 54, 61, 0.5)"},title:{display:!0,text:"Day of Month",color:"#8b949e"}},y:{ticks:{color:"#8b949e",stepSize:1},grid:{color:"rgba(48, 54, 61, 0.5)"},beginAtZero:!0}}}})})(),()=>{e=!0,i.current&&(i.current.destroy(),i.current=null)}},[a,t,o,l]),(0,r.jsx)("div",{className:m.activityChartWrapper,children:(0,r.jsx)("canvas",{ref:d})})}function p(e){var a,s,t,o,l,p,g,_,x,j,b,v;let{session:y}=e,{t:N}=(0,d.B)("common"),[f,D]=(0,n.useState)("users"),[C,B]=(0,n.useState)(""),[w,S]=(0,n.useState)(null),[k,R]=(0,n.useState)(null),[T,I]=(0,n.useState)(!1),[L,A]=(0,n.useState)(null),[U,P]=(0,n.useState)(null),[M,E]=(0,n.useState)(null),[O,H]=(0,n.useState)([]),[F,G]=(0,n.useState)([]),[V,z]=(0,n.useState)(!0),[W,J]=(0,n.useState)(!1),[q,Y]=(0,n.useState)(null),[Z,X]=(0,n.useState)(null),[K,Q]=(0,n.useState)("pending"),[$,ee]=(0,n.useState)("all"),[ea,es]=(0,n.useState)(!1),[er,et]=(0,n.useState)(null),[en,eo]=(0,n.useState)({page:1,totalPages:1,totalCount:0,hasMore:!1}),[el,ed]=(0,n.useState)(1),[ei,ec]=(0,n.useState)(1),[em,eh]=(0,n.useState)(0),[eu,ep]=(0,n.useState)(null),[eg,e_]=(0,n.useState)(!1),[ex,ej]=(0,n.useState)("7"),[eb,ev]=(0,n.useState)(""),[ey,eN]=(0,n.useState)(""),[ef,eD]=(0,n.useState)(!1),[eC,eB]=(0,n.useState)([]),[ew,eS]=(0,n.useState)(null),[ek,eR]=(0,n.useState)(!1),[eT,eI]=(0,n.useState)({}),[eL,eA]=(0,n.useState)(null),[eU,eP]=(0,n.useState)(null),[eM,eE]=(0,n.useState)(null),[eO,eH]=(0,n.useState)(null),[eF,eG]=(0,n.useState)(""),[eV,ez]=(0,n.useState)(""),[eW,eJ]=(0,n.useState)(!1),[eq,eY]=(0,n.useState)(null),[eZ,eX]=(0,n.useState)([]),[eK,eQ]=(0,n.useState)(!1),[e$,e0]=(0,n.useState)([]),[e1,e3]=(0,n.useState)(null),[e8,e2]=(0,n.useState)({moderatorId:"all",actionType:"all"}),[e6,e4]=(0,n.useState)({page:1,totalPages:1,totalCount:0}),[e5,e7]=(0,n.useState)(null),[e9,ae]=(0,n.useState)(!1),[aa,as]=(0,n.useState)(new Date().getMonth()+1),[ar,at]=(0,n.useState)(new Date().getFullYear()),[an,ao]=(0,n.useState)("all");(0,n.useEffect)(()=>{if(U){let e=setTimeout(()=>P(null),5e3);return()=>clearTimeout(e)}},[U]),(0,n.useEffect)(()=>{if(eU||eM){let e=setTimeout(()=>{eP(null),eE(null)},3e3);return()=>clearTimeout(e)}},[eU,eM]);let al=async function(e){var a;let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1];s&&eA(e),D("reports"),eP(e._id),eE(null==(a=e.reportedUser)?void 0:a.accountId);let r="pending"===e.status?"pending":"all";Q(r),ee("all"),await ah(r,"all",1),setTimeout(()=>{let e=document.querySelector('[data-highlighted="true"]');e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)};if(!(null==y||null==(a=y.token)?void 0:a.staff))return(0,r.jsx)("div",{className:m.unauthorized,children:(0,r.jsxs)("div",{className:m.unauthorizedContent,children:[(0,r.jsx)("span",{className:m.unauthorizedIcon,children:"\uD83D\uDD12"}),(0,r.jsx)("h2",{children:"Access Denied"}),(0,r.jsx)("p",{children:"You need staff privileges to access the WorldGuessr mod dashboard."}),(0,r.jsx)("button",{className:m.backBtn,onClick:()=>window.location.href="/",children:"Return to Home"})]})});let ad=async()=>{if(!C.trim())return void A("Please enter a username");D("users"),E(null),I(!0),A(null),S(null),R(null),eY(null);try{var e,a;let s=await fetch((null==(e=window.cConfig)?void 0:e.apiUrl)+"/api/mod/userLookup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(a=y.token)?void 0:a.secret,username:C.trim(),includeHistory:!0})});if(s.ok){let e=await s.json();e.multipleMatches?(eY(e),A(null)):(S(e.targetUser),R(e.history),ed(1),ec(1),e.foundByPastName&&P('Found user by past name "'.concat(e.searchedName,'" → Current name: "').concat(e.targetUser.username,'"')))}else{let e=await s.json();A(e.message||"User not found")}}catch(e){console.error("Error looking up user:",e),A("Network error occurred")}finally{I(!1)}},ai=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(e){es(!0),A(null),et(s);try{var r;let s=await fetch(window.cConfig.apiUrl+"/api/mod/gameDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(r=y.token)?void 0:r.secret,gameId:e,targetUserId:a})});if(s.ok){let e=await s.json();E({gameId:e.game.gameId,...e.game})}else{let e=await s.json();A(e.message||"Failed to fetch game details")}}catch(e){console.error("Error fetching game:",e),A("Failed to fetch game details")}finally{es(!1)}}},ac=async e=>{E(null),B(e),D("users"),I(!0),A(null),S(null),R(null),eY(null);try{var a;let s=await fetch(window.cConfig.apiUrl+"/api/mod/userLookup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(a=y.token)?void 0:a.secret,username:e.trim(),includeHistory:!0})});if(s.ok){let e=await s.json();e.multipleMatches?(eY(e),A(null)):(S(e.targetUser),R(e.history),ed(1),ec(1),e.foundByPastName&&(B(e.targetUser.username),P('Found user by past name "'.concat(e.searchedName,'" → Current name: "').concat(e.targetUser.username,'"'))))}else{let e=await s.json();A(e.message||"User not found")}}catch(e){console.error("Error looking up user:",e),A("Network error occurred")}finally{I(!1)}},am=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;E(null),a&&B(a),D("users"),I(!0),A(null),S(null),R(null);try{var s;let a=await fetch(window.cConfig.apiUrl+"/api/mod/userLookup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(s=y.token)?void 0:s.secret,accountId:e})});if(a.ok){let e=await a.json();S(e.targetUser),R(e.history),B(e.targetUser.username),ed(1),ec(1)}else{let e=await a.json();A(e.message||"User not found")}}catch(e){console.error("Error looking up user:",e),A("Network error occurred")}finally{I(!1)}},ah=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pending",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;J(!0),Y(null);let r=(s-1)*20;try{var t,n,o;let l=await fetch(window.cConfig.apiUrl+"/api/mod/getReports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(t=y.token)?void 0:t.secret,status:"all"===e?void 0:e,reason:"all"===a?void 0:a,showAll:"all"===e,limit:20,skip:r})});if(l.ok){let e=await l.json();e.stats&&!e.stats.pendingByReason&&(e.stats.pendingByReason={cheating:0,inappropriate_username:0,other:0}),X(e.stats),z(e.isGrouped),e.isGrouped?(H(e.groupedReports||[]),G([])):(G(e.reports||[]),H([]));let a=(null==(n=e.pagination)?void 0:n.total)||0,r=Math.ceil(a/20)||1;eo({page:s,totalPages:r,totalCount:a,hasMore:(null==(o=e.pagination)?void 0:o.hasMore)||!1})}else{let e=await l.json();Y(e.message||"Failed to fetch reports")}}catch(e){console.error("Error fetching reports:",e),Y("Network error occurred")}finally{J(!1)}},au=async()=>{eR(!0);try{var e;let a=await fetch(window.cConfig.apiUrl+"/api/mod/nameReviewQueue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(e=y.token)?void 0:e.secret,limit:50})});if(a.ok){let e=await a.json();eB(e.requests||[]),eS(e.stats)}}catch(e){console.error("Error fetching name review queue:",e)}finally{eR(!1)}},ap=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eQ(!0);try{var s,r;let t=await fetch(window.cConfig.apiUrl+"/api/mod/auditLogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:y.token.secret,moderatorId:null!=(s=a.moderatorId)?s:e8.moderatorId,actionType:null!=(r=a.actionType)?r:e8.actionType,page:e,limit:50})});if(!t.ok)throw Error("Failed to fetch audit logs");let n=await t.json();eX(n.logs),e0(n.moderators),e3(n.stats),e4(n.pagination)}catch(e){A(e.message)}finally{eQ(!1)}},ag=async(e,a)=>{let s=null!=a?a:aa;ae(!0);try{let a=await fetch(window.cConfig.apiUrl+"/api/mod/modActivity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:y.token.secret,year:null!=e?e:ar,month:s})});if(!a.ok)throw Error("Failed to fetch mod activity");let r=await a.json();e7(r),as(r.month),at(r.year)}catch(e){A(e.message)}finally{ae(!1)}},a_=e=>{D(e),"reports"===e&&0===O.length&&0===F.length&&ah(K,$),"nameReview"===e&&0===eC.length&&au(),"auditLogs"===e&&0===eZ.length&&ap(),"activity"!==e||e5||ag()},ax=e=>{ah(K,$,e)},aj=function(e,a,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};ep({type:e,targetUser:a,reportIds:r.reportIds||s,hasInappropriateUsername:r.hasInappropriateUsername||!1})},ab=async function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!eb.trim())return void A("Please provide a reason for this action");e_(!0),A(null);try{var r;let t={secret:null==y||null==(r=y.token)?void 0:r.secret,action:e,targetUserId:a,reportIds:s,reason:eb.trim(),publicNote:ey.trim()};if("ban_temporary"===e){let e=parseInt(ex);t.duration=24*e*36e5,t.durationString="".concat(e," day").concat(1!==e?"s":"")}"ban_permanent"===e&&(t.skipEloRefund=ef);let n=await fetch(window.cConfig.apiUrl+"/api/mod/takeAction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){let e=await n.json();P(e.message),ep(null),ev(""),eN(""),eD(!1),ah(K,$,en.page),w&&"users"===f&&ad()}else{let e=await n.json();A(e.message||"Failed to take action")}}catch(e){console.error("Error taking action:",e),A("Network error occurred")}finally{e_(!1)}},av=async()=>{if(eO){if(eF.toLowerCase()!==eO.username.toLowerCase())return void A('Username confirmation does not match. Type "'.concat(eO.username,'" to confirm.'));if(!eV.trim()||eV.trim().length<10)return void A("Please provide a reason (minimum 10 characters)");eJ(!0),A(null);try{var e;let a=await fetch(window.cConfig.apiUrl+"/api/mod/deleteUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(e=y.token)?void 0:e.secret,targetUserId:eO.id,confirmUsername:eF,reason:eV.trim()})});if(a.ok){let e=await a.json();P(e.message),eH(null),eG(""),ez(""),S(null),R(null)}else{let e=await a.json();A(e.message||"Failed to delete user")}}catch(e){console.error("Error deleting user:",e),A("Network error occurred")}finally{eJ(!1)}}},ay=async e=>{if(!eb.trim())return void A("Please provide a reason for unbanning");e_(!0),A(null);try{var a;let s=await fetch(window.cConfig.apiUrl+"/api/mod/takeAction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(a=y.token)?void 0:a.secret,action:"unban",targetUserId:e,reason:eb.trim(),publicNote:ey.trim()})});if(s.ok){let e=await s.json();P(e.message),ep(null),ev(""),eN(""),eD(!1),ad()}else{let e=await s.json();A(e.message||"Failed to unban user")}}catch(e){console.error("Error unbanning user:",e),A("Network error occurred")}finally{e_(!1)}},aN=async(e,a)=>{let s=eT[e]||"";if("reject"===a&&!s.trim())return void A("Please provide a rejection reason");e_(!0),A(null);try{var r;let t=await fetch(window.cConfig.apiUrl+"/api/mod/reviewNameChange",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:null==y||null==(r=y.token)?void 0:r.secret,requestId:e,action:a,rejectionReason:"reject"===a?s.trim():void 0})});if(t.ok){let a=await t.json();P(a.message),eI(a=>{let s={...a};return delete s[e],s}),au()}else{let e=await t.json();A(e.message||"Failed to review name change")}}catch(e){console.error("Error reviewing name change:",e),A("Network error occurred")}finally{e_(!1)}},af=(e,a)=>{if(!e)return null;let s=(e.helpfulReports||0)+(e.unhelpfulReports||0),t=[];if((null==a?void 0:a.hasBanHistory)&&t.push((0,r.jsx)("span",{className:m.reporterBanHistory,children:"banned"},"ban-history")),0===s)t.push((0,r.jsx)("span",{className:m.reporterStatsNew,children:"new reporter"},"new-reporter"));else{let a=s>0?Math.round(e.helpfulReports/s*100):0;t.push((0,r.jsxs)("span",{className:"".concat(m.reporterStats," ").concat(a>=50?m.goodReporter:m.badReporter),children:["✓",e.helpfulReports||0," ✗",e.unhelpfulReports||0]},"stats"))}return(0,r.jsx)(r.Fragment,{children:t})},aD=e=>{if(!e)return null;let a=[];if(e.pendingNameChange&&a.push((0,r.jsx)("span",{className:m.statusBadgeWarning,title:"Pending name change",children:"✏️ Name Change"},"namechange")),e.banned)if("temporary"===e.banType&&e.banExpiresAt){let s=new Date(e.banExpiresAt),t=Math.ceil((s-new Date)/864e5);a.push((0,r.jsxs)("span",{className:m.statusBadgeTempBan,title:"Temp ban expires: ".concat(s.toLocaleDateString()),children:["⏱️ ",t,"d left"]},"tempban"))}else a.push((0,r.jsx)("span",{className:m.statusBadgeBanned,title:"Permanently banned",children:"⛔ Banned"},"permban"));return a.length>0?(0,r.jsx)("span",{className:m.userStatusBadges,children:a}):null};return(0,r.jsxs)(r.Fragment,{children:[M&&(0,r.jsx)(c.A,{game:M,session:y,onBack:()=>{E(null),et(null),setTimeout(()=>window.scrollTo(0,em),0)},onUsernameLookup:ac,options:{isModView:!0,reportedUserId:er,targetUserId:(null==w?void 0:w._id)||er}}),(()=>{if(!eu)return null;let{type:e,targetUser:a,reportIds:s,hasInappropriateUsername:t}=eu;return(0,r.jsx)("div",{className:m.modalOverlay,children:(0,r.jsxs)("div",{className:m.modal,children:[(0,r.jsxs)("div",{className:m.modalHeader,children:[(0,r.jsxs)("h3",{children:["mark_resolved"===e&&"✅ Mark Resolved","ignore"===e&&"\uD83D\uDEAB Ignore Reports","ban_permanent"===e&&"⛔ Permanent Ban","ban_temporary"===e&&"⏱️ Temporary Ban","force_name_change"===e&&"✏️ Force Name Change","unban"===e&&"✅ Unban User","undo_force_name_change"===e&&"↩️ Undo Force Name Change"]}),(0,r.jsx)("button",{className:m.modalClose,onClick:()=>{ep(null),eD(!1)},children:"\xd7"})]}),(0,r.jsxs)("div",{className:m.modalBody,children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Target User:"})," ",a.username]}),"ban_temporary"===e&&(0,r.jsxs)("div",{className:m.formGroup,children:[(0,r.jsx)("label",{children:"Ban Duration (days):"}),(0,r.jsxs)("select",{value:ex,onChange:e=>ej(e.target.value),className:m.select,children:[(0,r.jsx)("option",{value:"1",children:"1 day"}),(0,r.jsx)("option",{value:"3",children:"3 days"}),(0,r.jsx)("option",{value:"7",children:"7 days"}),(0,r.jsx)("option",{value:"14",children:"14 days"}),(0,r.jsx)("option",{value:"30",children:"30 days"}),(0,r.jsx)("option",{value:"90",children:"90 days"}),(0,r.jsx)("option",{value:"180",children:"180 days"}),(0,r.jsx)("option",{value:"365",children:"1 year"})]})]}),"ban_permanent"===e&&(0,r.jsxs)("div",{className:m.formGroup,children:[(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[(0,r.jsx)("input",{type:"checkbox",checked:ef,onChange:e=>eD(e.target.checked),style:{marginRight:"8px",cursor:"pointer"}}),"Skip ELO refund (do not refund ELO to opponents)"]}),(0,r.jsx)("small",{style:{color:"#6e7681",marginTop:"4px",display:"block"},children:"By default, opponents who lost ELO to this user will be refunded. Check this to skip the refund."})]}),(0,r.jsxs)("div",{className:m.formGroup,children:[(0,r.jsx)("label",{children:"\uD83D\uDD12 Internal Reason (required, NOT shown to user):"}),(0,r.jsx)("textarea",{value:eb,onChange:e=>ev(e.target.value),placeholder:"Internal reason for mod records only...",className:m.textarea,rows:3}),(0,r.jsx)("small",{style:{color:"#6e7681",marginTop:"4px",display:"block"},children:"This is for mod records only. User will never see this."})]}),!["unban","undo_force_name_change","ignore","mark_resolved"].includes(e)&&(0,r.jsxs)("div",{className:m.formGroup,children:[(0,r.jsx)("label",{children:"\uD83D\uDCE2 Public Note (optional, SHOWN to user on their ban/name change banner):"}),(0,r.jsx)("textarea",{value:ey,onChange:e=>eN(e.target.value),placeholder:"Message shown to the user (e.g., 'Inappropriate behavior in multiplayer')...",className:m.textarea,rows:2}),(0,r.jsx)("small",{style:{color:"#d29922",marginTop:"4px",display:"block"},children:"⚠️ This message WILL be displayed to the user. Keep it professional."})]}),"mark_resolved"===e&&(0,r.jsx)("p",{className:m.info,children:"ℹ️ This will mark the report(s) as resolved without taking punitive action on the user. The reporter will receive credit for a helpful report."}),"ignore"===e&&(0,r.jsx)("p",{className:m.warning,children:"⚠️ This will mark the report(s) as ignored and increment the reporter's unhelpful report count."}),"force_name_change"===e&&!t&&(0,r.jsx)("p",{className:m.warning,children:"⚠️ Force name change is typically only used for inappropriate username reports."})]}),(0,r.jsxs)("div",{className:m.modalFooter,children:[(0,r.jsx)("button",{className:m.cancelBtn,onClick:()=>{ep(null),eD(!1)},disabled:eg,children:"Cancel"}),(0,r.jsx)("button",{className:"".concat(m.actionBtn," ").concat(m[e.replace("_","")]),onClick:()=>{"unban"===e?ay(a.id):ab(e,a.id,s)},disabled:eg||!eb.trim(),children:eg?"Processing...":"Confirm Action"})]})]})})})(),eL&&(0,r.jsx)("div",{className:m.focusedReportOverlay,onClick:()=>eA(null),children:(0,r.jsxs)("div",{className:m.focusedReportCard,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:m.focusedReportHeader,children:[(0,r.jsx)("h3",{children:"\uD83D\uDCCB Report Details"}),(0,r.jsx)("button",{className:m.focusedReportClose,onClick:()=>eA(null),children:"\xd7"})]}),(0,r.jsxs)("div",{className:m.focusedReportBody,children:[(0,r.jsxs)("div",{className:m.reportMeta,style:{marginBottom:"16px"},children:[(0,r.jsx)("span",{className:"".concat(m.statusBadge," ").concat(m[eL.status]),children:null==(s=eL.status)?void 0:s.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.reasonBadge,children:null==(t=eL.reason)?void 0:t.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.reportDate,children:new Date(eL.createdAt).toLocaleString()})]}),(0,r.jsxs)("div",{className:m.reportUsers,style:{marginBottom:"16px"},children:[(0,r.jsxs)("div",{className:m.userInfo,children:[(0,r.jsx)("strong",{children:"Reporter:"}),(0,r.jsx)("span",{className:m.username,onClick:()=>{var e,a;eA(null),am(null==(e=eL.reportedBy)?void 0:e.accountId,null==(a=eL.reportedBy)?void 0:a.username)},children:null==(o=eL.reportedBy)?void 0:o.username})]}),(0,r.jsxs)("div",{className:m.userInfo,children:[(0,r.jsx)("strong",{children:"Reported:"}),(0,r.jsx)("span",{className:m.username,onClick:()=>{var e,a;eA(null),am(null==(e=eL.reportedUser)?void 0:e.accountId,null==(a=eL.reportedUser)?void 0:a.username)},children:null==(l=eL.reportedUser)?void 0:l.username})]})]}),(0,r.jsxs)("div",{className:m.reportDescription,style:{marginBottom:"16px"},children:[(0,r.jsx)("strong",{children:"Description:"}),(0,r.jsx)("p",{children:eL.description})]}),(0,r.jsxs)("div",{className:m.reportGameInfo,children:[(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"Game ID:"})," ",(0,r.jsx)("span",{className:m.gameIdLink,onClick:()=>{var e,a;eA(null),ai(eL.gameId,null==(e=eL.reportedUser)?void 0:e.accountId,null==(a=eL.reportedUser)?void 0:a.accountId)},children:eL.gameId})]}),(0,r.jsxs)("span",{children:[(0,r.jsx)("strong",{children:"Type:"})," ",null==(p=eL.gameType)?void 0:p.replace(/_/g," ")]})]}),eL.moderatorNotes&&(0,r.jsxs)("div",{style:{marginTop:"16px",padding:"12px",background:"#161b22",borderRadius:"6px"},children:[(0,r.jsx)("strong",{children:"Moderator Notes:"}),(0,r.jsx)("p",{style:{margin:"8px 0 0 0"},children:eL.moderatorNotes})]}),(null==(g=eL.reviewedBy)?void 0:g.username)&&(0,r.jsxs)("div",{style:{marginTop:"12px",color:"#6e7681",fontSize:"0.85rem"},children:["Reviewed by ",eL.reviewedBy.username," on ",new Date(eL.reviewedAt).toLocaleString()]}),"pending"===eL.status&&(()=>{var e,a,s;let t=(null==k||null==(e=k.reportsAgainst)?void 0:e.filter(e=>{var a,s;return"pending"===e.status&&(null==(a=e.reportedUser)?void 0:a.accountId)===(null==(s=eL.reportedUser)?void 0:s.accountId)}))||[eL],n=t.map(e=>e._id);return(0,r.jsxs)("div",{style:{marginTop:"20px",paddingTop:"16px",borderTop:"1px solid #30363d"},children:[n.length>1&&(0,r.jsxs)("div",{style:{marginBottom:"12px",padding:"8px 12px",background:"rgba(88, 166, 255, 0.1)",borderRadius:"6px",fontSize:"0.85rem",color:"#58a6ff"},children:["ℹ️ Action will apply to all ",n.length," pending reports against this user"]}),(0,r.jsx)(h,{targetUser:{id:null==(a=eL.reportedUser)?void 0:a.accountId,username:null==(s=eL.reportedUser)?void 0:s.username},reportIds:n,reports:t,onAction:(e,a,s,r)=>{eA(null),aj(e,a,s,r)}})]})})(),(0,r.jsx)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #30363d",textAlign:"center"},children:(0,r.jsx)("button",{className:m.refreshBtn,onClick:()=>{eA(null),al(eL,!1)},style:{width:"100%"},children:"\uD83D\uDCCB Open in Reports Page"})})]})]})}),eO&&(0,r.jsx)("div",{className:m.modalOverlay,children:(0,r.jsxs)("div",{className:m.modal,style:{borderColor:"#da3633"},children:[(0,r.jsxs)("div",{className:m.modalHeader,style:{background:"linear-gradient(135deg, #da3633, #8b0000)"},children:[(0,r.jsx)("h3",{children:"\uD83D\uDDD1️ DELETE USER PERMANENTLY"}),(0,r.jsx)("button",{className:m.modalClose,onClick:()=>{eH(null),eG(""),ez("")},children:"\xd7"})]}),(0,r.jsxs)("div",{className:m.modalBody,children:[(0,r.jsxs)("div",{style:{background:"rgba(218, 54, 51, 0.15)",border:"2px solid #da3633",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:[(0,r.jsx)("h4",{style:{color:"#f85149",margin:"0 0 12px 0"},children:"⚠️ DANGER: This action is IRREVERSIBLE!"}),(0,r.jsxs)("p",{style:{color:"#f0883e",margin:"0 0 8px 0",fontSize:"0.9rem"},children:["Deleting user ",(0,r.jsx)("strong",{style:{color:"#fff"},children:eO.username})," will permanently:"]}),(0,r.jsxs)("ul",{style:{color:"#b1bac4",margin:"0",paddingLeft:"20px",fontSize:"0.85rem"},children:[(0,r.jsx)("li",{children:"Delete the user account and all profile data"}),(0,r.jsx)("li",{children:"Delete all user statistics and progression history"}),(0,r.jsx)("li",{children:"Delete all maps created by this user"}),(0,r.jsx)("li",{children:"Anonymize user data in games (games preserved for other players)"}),(0,r.jsx)("li",{children:"Remove user from all friend lists"}),(0,r.jsx)("li",{children:"Anonymize all reports made by/against this user"})]})]}),(0,r.jsxs)("div",{className:m.formGroup,children:[(0,r.jsxs)("label",{style:{color:"#f85149"},children:["Type ",(0,r.jsxs)("strong",{children:['"',eO.username,'"']})," to confirm:"]}),(0,r.jsx)("input",{type:"text",value:eF,onChange:e=>eG(e.target.value),placeholder:'Type "'.concat(eO.username,'" exactly'),className:m.usernameInput,style:{borderColor:eF.toLowerCase()===eO.username.toLowerCase()?"#3fb950":"#da3633"}})]}),(0,r.jsxs)("div",{className:m.formGroup,children:[(0,r.jsx)("label",{children:"\uD83D\uDD12 Reason for deletion (internal, minimum 10 characters):"}),(0,r.jsx)("textarea",{value:eV,onChange:e=>ez(e.target.value),placeholder:"GDPR request, user request, spam account, etc...",className:m.textarea,rows:3})]})]}),(0,r.jsxs)("div",{className:m.modalFooter,children:[(0,r.jsx)("button",{className:m.cancelBtn,onClick:()=>{eH(null),eG(""),ez("")},disabled:eW,children:"Cancel"}),(0,r.jsx)("button",{className:m.deleteUserBtn,onClick:av,disabled:eW||eF.toLowerCase()!==eO.username.toLowerCase()||eV.trim().length<10,style:{opacity:eF.toLowerCase()===eO.username.toLowerCase()&&eV.trim().length>=10?1:.5},children:eW?"Deleting...":"\uD83D\uDDD1️ PERMANENTLY DELETE USER"})]})]})}),(0,r.jsxs)("div",{className:m.modDashboard,style:{display:M?"none":void 0},children:[(0,r.jsxs)("div",{className:m.header,children:[(0,r.jsxs)("div",{className:m.worldGuessrLogo,children:[(0,r.jsx)("div",{className:m.logoIcon,children:"\uD83C\uDF0D"}),(0,r.jsx)("h1",{children:"WorldGuessr Mod Dashboard"})]}),(0,r.jsxs)("div",{className:m.subHeader,children:[(0,r.jsx)("p",{children:"Search and review player game history and reports"}),(0,r.jsx)("span",{className:m.badge,children:"Staff Only"})]})]}),U&&(0,r.jsxs)("div",{className:m.successMessage,children:["✅ ",U]}),L&&(0,r.jsxs)("div",{className:m.errorMessage,children:["❌ ",L]}),(0,r.jsxs)("div",{className:m.tabNavigation,children:[(0,r.jsx)("button",{className:"".concat(m.tab," ").concat("users"===f?m.activeTab:""),onClick:()=>a_("users"),children:"\uD83D\uDC64 User Lookup"}),(0,r.jsxs)("button",{className:"".concat(m.tab," ").concat("reports"===f?m.activeTab:""),onClick:()=>a_("reports"),children:["\uD83D\uDEA9 Reports",(null==Z?void 0:Z.pending)>0&&(0,r.jsx)("span",{className:m.badge,children:Z.pending})]}),(0,r.jsxs)("button",{className:"".concat(m.tab," ").concat("nameReview"===f?m.activeTab:""),onClick:()=>a_("nameReview"),children:["✏️ Name Review",(null==ew?void 0:ew.pending)>0&&(0,r.jsx)("span",{className:m.badge,children:ew.pending})]}),(0,r.jsx)("button",{className:"".concat(m.tab," ").concat("auditLogs"===f?m.activeTab:""),onClick:()=>a_("auditLogs"),children:"\uD83D\uDCCB Audit Logs"}),(0,r.jsx)("button",{className:"".concat(m.tab," ").concat("activity"===f?m.activeTab:""),onClick:()=>a_("activity"),children:"\uD83D\uDCCA Activity"})]}),(0,r.jsx)("div",{className:m.searchSection,children:(0,r.jsxs)("div",{className:m.searchBox,children:[(0,r.jsx)("input",{type:"text",value:C,onChange:e=>B(e.target.value),onKeyPress:e=>{"Enter"===e.key&&ad()},placeholder:"Search by username, email, or account ID...",className:m.usernameInput,disabled:T}),(0,r.jsx)("button",{onClick:ad,disabled:T||!C.trim(),className:m.searchBtn,children:T?"Searching...":"\uD83D\uDD0D Lookup Player"})]})}),"users"===f&&(0,r.jsxs)(r.Fragment,{children:[eq&&(0,r.jsxs)("div",{className:m.multipleMatchesSection,children:[(0,r.jsxs)("div",{className:m.multipleMatchesWarning,children:[(0,r.jsx)("h3",{children:"⚠️ Multiple Accounts Found!"}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:[eq.matchCount," accounts"]}),' are associated with the username "',(0,r.jsx)("strong",{children:eq.searchTerm}),'". This could indicate ',(0,r.jsx)("span",{style:{color:"#f85149"},children:"ban evasion"}),"."]})]}),(0,r.jsx)("div",{className:m.matchesList,children:eq.matches.map((e,a)=>{var s;return(0,r.jsxs)("div",{className:"".concat(m.matchCard," ").concat(e.banned?m.matchCardBanned:""),onClick:()=>am(e._id,e.username),children:[(0,r.jsxs)("div",{className:m.matchCardHeader,children:[(0,r.jsxs)("span",{className:m.matchNumber,children:["#",a+1]}),(0,r.jsx)("span",{className:m.matchUsername,children:e.username}),(0,r.jsxs)("div",{className:m.matchBadges,children:[e.staff&&(0,r.jsx)("span",{className:m.staffBadge,children:"STAFF"}),e.banned&&(0,r.jsx)("span",{className:m.bannedBadge,children:"temporary"===e.banType?"TEMP BANNED":"BANNED"}),e.pendingNameChange&&(0,r.jsx)("span",{className:m.pendingNameBadge,children:"NAME CHANGE"})]})]}),(0,r.jsx)("div",{className:m.matchInfo,children:(0,r.jsx)("span",{className:"current_username"===e.matchType?m.matchTypeCurrent:m.matchTypePast,children:e.matchInfo})}),(0,r.jsxs)("div",{className:m.matchStats,children:[(0,r.jsxs)("span",{children:["XP: ",(null==(s=e.totalXp)?void 0:s.toLocaleString())||0]}),(0,r.jsxs)("span",{children:["Elo: ",e.elo||1e3]}),(0,r.jsxs)("span",{children:["Joined: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,r.jsx)("div",{className:m.matchAction,children:"Click to view full details →"})]},e._id)})}),(0,r.jsx)("button",{className:m.clearMatchesBtn,onClick:()=>eY(null),children:"Clear Results"})]}),w?(0,r.jsxs)("div",{className:m.gameHistorySection,children:[(0,r.jsxs)("div",{className:m.userCard,children:[(0,r.jsxs)("div",{className:m.userCardHeader,children:[(0,r.jsx)("h3",{children:w.username}),(0,r.jsxs)("div",{className:m.userBadges,children:[w.staff&&(0,r.jsx)("span",{className:m.staffBadge,children:"STAFF"}),w.supporter&&(0,r.jsx)("span",{className:m.supporterBadge,children:"SUPPORTER"}),w.banned&&(0,r.jsx)("span",{className:m.bannedBadge,children:"temporary"===w.banType?"TEMP BANNED":"BANNED"}),w.pendingNameChange&&(0,r.jsx)("span",{className:m.pendingNameBadge,children:"PENDING NAME CHANGE"})]})]}),(0,r.jsxs)("div",{className:m.userStats,children:[(0,r.jsxs)("span",{children:["XP: ",null==(_=w.totalXp)?void 0:_.toLocaleString()]}),(0,r.jsxs)("span",{children:["Elo: ",w.elo]}),(0,r.jsxs)("span",{children:["Games: ",w.totalGamesPlayed]}),(0,r.jsxs)("span",{children:["Joined: ",new Date(w.created_at).toLocaleDateString()]})]}),(0,r.jsxs)("div",{className:m.accountId,children:[(0,r.jsx)("span",{children:"Account ID: "}),(0,r.jsx)("code",{onClick:()=>{navigator.clipboard.writeText(w._id),P("Account ID copied to clipboard")},title:"Click to copy",style:{cursor:"pointer"},children:w._id})]}),w.banned&&w.banExpiresAt&&(0,r.jsxs)("div",{className:m.banInfo,children:["Ban expires: ",new Date(w.banExpiresAt).toLocaleString()]}),(0,r.jsxs)("div",{className:m.userActions,children:[w.banned?(0,r.jsx)("button",{className:m.unbanBtn,onClick:()=>ep({type:"unban",targetUser:{id:w._id,username:w.username}}),children:"✅ Unban User"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:m.banBtn,onClick:()=>ep({type:"ban_permanent",targetUser:{id:w._id,username:w.username},reportIds:[]}),children:"⛔ Ban"}),(0,r.jsx)("button",{className:m.tempBanBtn,onClick:()=>ep({type:"ban_temporary",targetUser:{id:w._id,username:w.username},reportIds:[]}),children:"⏱️ Temp Ban"}),(0,r.jsx)("button",{className:m.forceNameBtn,onClick:()=>ep({type:"force_name_change",targetUser:{id:w._id,username:w.username},reportIds:[],hasInappropriateUsername:!1}),children:"✏️ Force Name Change"})]}),w.pendingNameChange&&(0,r.jsx)("button",{className:m.undoForceNameBtn,onClick:()=>ep({type:"undo_force_name_change",targetUser:{id:w._id,username:w.username}}),children:"↩️ Undo Force Name Change"}),!w.staff&&(0,r.jsx)("button",{className:m.deleteUserBtn,onClick:()=>eH({id:w._id,username:w.username}),children:"\uD83D\uDDD1️ Delete User"})]})]}),(()=>{var e,a,s,t,n,o,l,d;if(!k)return null;let i=k.banHistory&&k.banHistory.length>0||k.usernameHistory&&k.usernameHistory.length>0||k.eloRefunds&&k.eloRefunds.length>0||k.reportsAgainst&&k.reportsAgainst.length>0||k.reportsMade&&k.reportsMade.length>0;return(0,r.jsxs)("div",{className:m.historySection,children:[(0,r.jsx)("h3",{children:"\uD83D\uDCCB Moderation History"}),(0,r.jsxs)("div",{className:m.historySummary,children:[(0,r.jsxs)("span",{children:["Mod Actions: ",(null==(e=k.summary)?void 0:e.totalModerationActions)||0]}),(0,r.jsxs)("span",{children:["Bans: ",(null==(a=k.summary)?void 0:a.totalBans)||0]}),(0,r.jsxs)("span",{children:["Name Changes: ",(null==(s=k.summary)?void 0:s.totalNameChanges)||0]}),(0,r.jsxs)("span",{children:["ELO Refunds: ",(null==(t=k.summary)?void 0:t.totalEloRefunds)||0," (",(null==(n=k.summary)?void 0:n.totalEloRefunded)||0," ELO)"]}),(0,r.jsxs)("span",{children:["Reports Against: ",(null==(o=k.summary)?void 0:o.totalReportsAgainst)||0]}),(0,r.jsxs)("span",{children:["Reports Made: ",(null==(l=k.summary)?void 0:l.totalReportsMade)||0]})]}),!i&&(0,r.jsxs)("div",{className:m.noHistory,children:[(0,r.jsx)("p",{children:"No moderation history found for this user."}),(0,r.jsx)("p",{style:{fontSize:"0.85rem",color:"#6e7681"},children:"History will appear here after moderation actions are taken through this dashboard."})]}),k.banHistory&&k.banHistory.length>0&&(0,r.jsxs)("div",{className:m.historySubsection,children:[(0,r.jsxs)("h4",{children:["\uD83D\uDEAB Ban History (",k.banHistory.length,")"]}),k.banHistory.map((e,a)=>(0,r.jsxs)("div",{className:m.historyItem,children:[(0,r.jsx)("span",{className:"".concat(m.historyBadge," ").concat(m[e.action.replace("_","")]),children:e.action.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.historyReason,children:e.reason}),e.duration&&(0,r.jsxs)("span",{className:m.historyDuration,children:["(",e.duration,")"]}),(0,r.jsxs)("span",{className:m.historyMeta,children:["by ",e.moderator," • ",new Date(e.createdAt).toLocaleDateString()]})]},a))]}),k.usernameHistory&&k.usernameHistory.length>0&&(0,r.jsxs)("div",{className:m.historySubsection,children:[(0,r.jsxs)("h4",{children:["✏️ Username Changes (",k.usernameHistory.length,")"]}),k.usernameHistory.map((e,a)=>{var s,t;return(0,r.jsxs)("div",{className:m.historyItem,children:[(0,r.jsxs)("span",{className:m.nameChange,children:[(0,r.jsx)("span",{className:m.oldName,children:e.oldName}),(0,r.jsx)("span",{className:m.nameArrow,children:"→"}),(0,r.jsx)("span",{className:m.newName,children:e.newName})]}),(0,r.jsx)("span",{className:"".concat(m.historyBadge," ").concat(m[(null==(s=e.action)?void 0:s.replace("_",""))||"namechange"]),children:(null==(t=e.action)?void 0:t.replace(/_/g," "))||"changed"}),(0,r.jsx)("span",{className:m.historyMeta,children:new Date(e.changedAt).toLocaleDateString()})]},a)})]}),k.eloRefunds&&k.eloRefunds.length>0&&(0,r.jsxs)("div",{className:m.historySubsection,children:[(0,r.jsxs)("h4",{children:["\uD83D\uDCB0 ELO Refunds (",k.eloRefunds.length,") - Total: ",(null==(d=k.summary)?void 0:d.totalEloRefunded)||0," ELO"]}),(0,r.jsx)("div",{style:{fontSize:"0.85rem",color:"#6e7681",marginBottom:"10px"},children:"ELO refunded from games against banned players"}),k.eloRefunds.map((e,a)=>(0,r.jsxs)("div",{className:m.historyItem,children:[(0,r.jsxs)("span",{className:m.historyBadge,style:{backgroundColor:"#28a745"},children:["+",e.amount," ELO"]}),(0,r.jsxs)("span",{className:m.historyReason,children:["from banned player: ",(0,r.jsx)("strong",{children:e.bannedUsername})]}),(0,r.jsxs)("span",{className:m.historyMeta,children:["New ELO: ",e.newElo," • ",new Date(e.timestamp).toLocaleDateString()]})]},a))]}),k.reportsAgainst&&k.reportsAgainst.length>0&&(0,r.jsxs)("div",{className:m.historySubsection,children:[(0,r.jsxs)("h4",{children:["\uD83D\uDEA9 Reports Against (",k.reportsAgainst.length,")"]}),k.reportsAgainst.slice((el-1)*10,10*el).map((e,a)=>{var s;return(0,r.jsxs)("div",{className:m.historyReportItem,children:[(0,r.jsx)("span",{className:"".concat(m.statusBadge," ").concat(m[e.status]),children:e.status.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.reasonBadge,children:e.reason.replace(/_/g," ")}),(0,r.jsxs)("span",{className:m.historyReason,children:["by ",null==(s=e.reportedBy)?void 0:s.username]}),(0,r.jsx)("span",{className:m.historyMeta,children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsx)("span",{className:m.viewLink,style:{opacity:1,cursor:"pointer"},onClick:()=>eA(e),children:"View →"})]},e._id||a)}),k.reportsAgainst.length>10&&(0,r.jsxs)("div",{className:m.historyPagination,children:[(0,r.jsx)("button",{className:m.historyPageBtn,onClick:()=>ed(e=>Math.max(1,e-1)),disabled:el<=1,children:"← Prev"}),(0,r.jsxs)("span",{className:m.historyPageInfo,children:["Page ",el," of ",Math.ceil(k.reportsAgainst.length/10)]}),(0,r.jsx)("button",{className:m.historyPageBtn,onClick:()=>ed(e=>Math.min(Math.ceil(k.reportsAgainst.length/10),e+1)),disabled:el>=Math.ceil(k.reportsAgainst.length/10),children:"Next →"})]})]}),k.reportsMade&&k.reportsMade.length>0&&(0,r.jsxs)("div",{className:m.historySubsection,children:[(0,r.jsxs)("h4",{children:["\uD83D\uDCDD Reports Made (",k.reportsMade.length,")"]}),k.reportsMade.slice(0,10).map((e,a)=>{var s;return(0,r.jsxs)("div",{className:m.historyReportItem,children:[(0,r.jsx)("span",{className:"".concat(m.statusBadge," ").concat(m[e.status]),children:e.status.replace(/_/g," ")}),(0,r.jsxs)("span",{children:["against ",null==(s=e.reportedUser)?void 0:s.username]}),(0,r.jsx)("span",{className:m.reasonBadge,children:e.reason.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.historyMeta,children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsx)("span",{className:m.viewLink,style:{opacity:1,cursor:"pointer"},onClick:()=>eA(e),children:"View →"})]},e._id||a)}),k.reportsMade.length>10&&(0,r.jsxs)("p",{style:{color:"#6e7681",fontSize:"0.85rem",marginTop:"8px"},children:["... and ",k.reportsMade.length-10," more reports"]})]}),k.moderationLogs&&k.moderationLogs.length>0&&(0,r.jsxs)("div",{className:m.historySubsection,children:[(0,r.jsxs)("h4",{children:["\uD83D\uDCDC Full Moderation Log (",k.moderationLogs.length,")"]}),k.moderationLogs.map((e,a)=>{var s,t,n,o,l;return(0,r.jsxs)("div",{className:m.historyItem,children:[(0,r.jsx)("span",{className:"".concat(m.historyBadge," ").concat(m[(null==(s=e.actionType)?void 0:s.replace("_",""))||"action"]),children:null==(t=e.actionType)?void 0:t.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.historyReason,children:e.reason}),(null==(n=e.nameChange)?void 0:n.oldName)&&(null==(o=e.nameChange)?void 0:o.newName)&&(0,r.jsxs)("span",{className:m.nameChange,children:["(",e.nameChange.oldName," → ",e.nameChange.newName,")"]}),(0,r.jsxs)("span",{className:m.historyMeta,children:["by ",null==(l=e.moderator)?void 0:l.username," • ",new Date(e.createdAt).toLocaleDateString()]})]},a)})]})]})})(),(0,r.jsx)(i.A,{session:y,targetUserSecret:w.secret,targetUserData:w,onGameClick:e=>{eh(window.scrollY),E(e)},page:ei,setPage:ec})]}):(0,r.jsx)("div",{className:m.instructionsSection,children:(0,r.jsxs)("div",{className:m.instructions,children:[(0,r.jsx)("h3",{children:"Moderator Tools"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:"\uD83D\uDD0D"}),(0,r.jsx)("span",{children:"Enter a player's username to view their complete profile and history"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:"\uD83D\uDCCA"}),(0,r.jsx)("span",{children:"View detailed moderation history, bans, and username changes"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:"⚖️"}),(0,r.jsx)("span",{children:"Take moderation actions: Ban, Temp Ban, Force Name Change, Unban"})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{children:"\uD83C\uDFAE"}),(0,r.jsx)("span",{children:"Review game history and investigate suspicious gameplay"})]})]})]})})]}),"reports"===f&&(0,r.jsxs)("div",{className:m.reportsSection,children:[Z&&(0,r.jsxs)("div",{className:m.statsBar,children:[(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Total"}),(0,r.jsx)("span",{className:m.statValue,children:Z.total})]}),(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Pending"}),(0,r.jsx)("span",{className:"".concat(m.statValue," ").concat(m.pending),children:Z.pending})]}),(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Dismissed"}),(0,r.jsx)("span",{className:m.statValue,children:Z.dismissed})]}),(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Action Taken"}),(0,r.jsx)("span",{className:"".concat(m.statValue," ").concat(m.actionTaken),children:Z.action_taken})]})]}),(0,r.jsxs)("div",{className:m.filterBar,children:[(0,r.jsx)("label",{children:"Status:"}),(0,r.jsxs)("select",{value:K,onChange:e=>{var a;Q(a=e.target.value),"pending"!==a&&ee("all"),ah(a,"pending"===a?$:"all",1)},className:m.statusFilter,children:[(0,r.jsxs)("option",{value:"pending",children:["Pending (",(null==Z?void 0:Z.pending)||0,")"]}),(0,r.jsxs)("option",{value:"all",children:["All Reports (",(null==Z?void 0:Z.total)||0,")"]}),(0,r.jsxs)("option",{value:"dismissed",children:["Dismissed (",(null==Z?void 0:Z.dismissed)||0,")"]}),(0,r.jsxs)("option",{value:"action_taken",children:["Action Taken (",(null==Z?void 0:Z.action_taken)||0,")"]})]}),"pending"===K&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{children:"Type:"}),(0,r.jsxs)("select",{value:$,onChange:e=>{var a;ee(a=e.target.value),ah(K,a,1)},className:m.statusFilter,children:[(0,r.jsxs)("option",{value:"all",children:["All Types (",(null==Z?void 0:Z.pending)||0,")"]}),(0,r.jsxs)("option",{value:"cheating",children:["\uD83C\uDFAE Cheating (",(null==Z||null==(x=Z.pendingByReason)?void 0:x.cheating)||0,")"]}),(0,r.jsxs)("option",{value:"inappropriate_username",children:["\uD83D\uDCDB Inap. Name (",(null==Z||null==(j=Z.pendingByReason)?void 0:j.inappropriate_username)||0,")"]}),(0,r.jsxs)("option",{value:"other",children:["❓ Other (",(null==Z||null==(b=Z.pendingByReason)?void 0:b.other)||0,")"]})]})]}),(0,r.jsx)("button",{onClick:()=>ah(K,$,1),className:m.refreshBtn,children:"\uD83D\uDD04 Refresh"})]}),en.totalPages>1&&(0,r.jsxs)("div",{className:m.pagination,children:[(0,r.jsx)("button",{onClick:()=>ax(en.page-1),disabled:en.page<=1||W,className:m.pageBtn,children:"← Previous"}),(0,r.jsxs)("span",{className:m.pageInfo,children:["Page ",en.page," of ",en.totalPages," ","(",en.totalCount," ",V?"users":"reports",")"]}),(0,r.jsx)("button",{onClick:()=>ax(en.page+1),disabled:en.page>=en.totalPages||W,className:m.pageBtn,children:"Next →"})]}),ea&&(0,r.jsx)("div",{className:m.gameLoadingOverlay,children:(0,r.jsxs)("div",{className:m.gameLoadingContent,children:[(0,r.jsx)("div",{className:m.loadingSpinner}),(0,r.jsx)("p",{children:"Loading game details..."})]})}),W?(0,r.jsx)("div",{className:m.loadingText,children:"Loading reports..."}):q?(0,r.jsxs)("div",{className:m.error,children:["❌ ",q]}):V&&0===O.length?(0,r.jsxs)("div",{className:m.noReports,children:[(0,r.jsx)("span",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCED"}),(0,r.jsx)("p",{children:"No pending reports"})]}):V||0!==F.length?V?(0,r.jsx)("div",{className:m.reportsList,children:O.map(e=>{let a=eM===e.reportedUser.accountId;return(0,r.jsxs)("div",{className:"".concat(m.reportGroup," ").concat(a?m.highlighted:""),"data-highlighted":a?"true":void 0,children:[(0,r.jsxs)("div",{className:m.reportGroupHeader,children:[(0,r.jsxs)("div",{className:m.reportGroupUser,children:[(0,r.jsx)("span",{className:m.username,onClick:()=>am(e.reportedUser.accountId,e.reportedUser.username),children:e.reportedUser.username}),aD(e.reportedUser),(0,r.jsxs)("span",{className:m.reportCountBadge,children:[e.reportCount," report",1!==e.reportCount?"s":""]})]}),(0,r.jsx)(h,{targetUser:{id:e.reportedUser.accountId,username:e.reportedUser.username},reportIds:e.reports.map(e=>e._id),reports:e.reports,onAction:aj})]}),e.reports.map(a=>(0,r.jsxs)("div",{className:m.reportCard,children:[(0,r.jsx)("div",{className:m.reportHeader,children:(0,r.jsxs)("div",{className:m.reportMeta,children:[(0,r.jsx)("span",{className:m.reasonBadge,children:a.reason.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.reportDate,children:new Date(a.createdAt).toLocaleDateString()})]})}),(0,r.jsxs)("div",{className:m.reportBody,children:[(0,r.jsx)("div",{className:m.reportUsers,children:(0,r.jsxs)("div",{className:m.userInfo,children:[(0,r.jsx)("strong",{children:"Reporter:"}),(0,r.jsx)("span",{className:m.username,onClick:()=>am(a.reportedBy.accountId,a.reportedBy.username),children:a.reportedBy.username}),af(a.reporterStats,a.reporterStatus),aD(a.reporterStatus)]})}),(0,r.jsx)("div",{className:m.reportDescription,children:(0,r.jsx)("p",{children:a.description})}),(0,r.jsxs)("div",{className:m.reportGameInfo,children:[(0,r.jsx)("span",{className:m.gameIdLink,onClick:()=>ai(a.gameId,e.reportedUser.accountId,e.reportedUser.accountId),children:"\uD83C\uDFAE View Game"}),(0,r.jsx)("span",{children:a.gameType.replace(/_/g," ")})]})]})]},a._id))]},e.reportedUser.accountId)})}):(0,r.jsx)("div",{className:m.reportsList,children:F.map(e=>{var a;let s=eU===e._id;return(0,r.jsxs)("div",{className:"".concat(m.reportCard," ").concat(s?m.highlighted:""),"data-highlighted":s?"true":void 0,children:[(0,r.jsx)("div",{className:m.reportHeader,children:(0,r.jsxs)("div",{className:m.reportMeta,children:[(0,r.jsx)("span",{className:"".concat(m.statusBadge," ").concat(m[e.status]),children:e.status.replace("_"," ")}),e.actionTaken&&(0,r.jsx)("span",{className:m.actionBadge,children:e.actionTaken.replace(/_/g," ")}),(0,r.jsx)("span",{className:m.reportDate,children:new Date(e.createdAt).toLocaleDateString()})]})}),(0,r.jsxs)("div",{className:m.reportBody,children:[(0,r.jsxs)("div",{className:m.reportUsers,children:[(0,r.jsxs)("div",{className:m.userInfo,children:[(0,r.jsx)("strong",{children:"Reporter:"}),(0,r.jsx)("span",{className:m.username,onClick:()=>am(e.reportedBy.accountId,e.reportedBy.username),children:e.reportedBy.username}),af(e.reporterStats,e.reporterStatus),aD(e.reporterStatus)]}),(0,r.jsxs)("div",{className:m.userInfo,children:[(0,r.jsx)("strong",{children:"Reported:"}),(0,r.jsx)("span",{className:m.username,onClick:()=>am(e.reportedUser.accountId,e.reportedUser.username),children:e.reportedUser.username}),aD(e.reportedUserStatus)]})]}),(0,r.jsx)("div",{className:m.reportReason,children:(0,r.jsx)("span",{className:m.reasonBadge,children:e.reason.replace(/_/g," ")})}),(0,r.jsx)("div",{className:m.reportDescription,children:(0,r.jsx)("p",{children:e.description})}),(null==(a=e.reviewedBy)?void 0:a.username)&&(0,r.jsxs)("div",{className:m.moderationInfo,children:[(0,r.jsxs)("div",{className:m.modInfoHeader,children:[(0,r.jsx)("strong",{children:"Reviewed by:"})," ",e.reviewedBy.username,e.reviewedAt&&(0,r.jsxs)("span",{className:m.reviewDate,children:[" ","on ",new Date(e.reviewedAt).toLocaleDateString()]})]}),e.moderatorNotes&&(0,r.jsxs)("div",{className:m.modNotes,children:[(0,r.jsx)("strong",{children:"Internal Notes:"}),(0,r.jsx)("p",{children:e.moderatorNotes})]})]})]})]},e._id)})}):(0,r.jsxs)("div",{className:m.noReports,children:[(0,r.jsx)("span",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCED"}),(0,r.jsx)("p",{children:"No reports found"})]}),en.totalPages>1&&(0,r.jsxs)("div",{className:m.pagination,style:{marginTop:"20px"},children:[(0,r.jsx)("button",{onClick:()=>ax(en.page-1),disabled:en.page<=1||W,className:m.pageBtn,children:"← Previous"}),(0,r.jsxs)("span",{className:m.pageInfo,children:["Page ",en.page," of ",en.totalPages," ","(",en.totalCount," ",V?"users":"reports",")"]}),(0,r.jsx)("button",{onClick:()=>ax(en.page+1),disabled:en.page>=en.totalPages||W,className:m.pageBtn,children:"Next →"})]})]}),"nameReview"===f&&(0,r.jsxs)("div",{className:m.reportsSection,children:[ew&&(0,r.jsxs)("div",{className:m.statsBar,children:[(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Pending"}),(0,r.jsx)("span",{className:"".concat(m.statValue," ").concat(m.pending),children:ew.pending})]}),(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Approved Today"}),(0,r.jsx)("span",{className:"".concat(m.statValue," ").concat(m.actionTaken),children:ew.approvedToday})]}),(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Rejected Today"}),(0,r.jsx)("span",{className:m.statValue,children:ew.rejectedToday})]})]}),(0,r.jsx)("div",{className:m.filterBar,children:(0,r.jsx)("button",{onClick:au,className:m.refreshBtn,children:"\uD83D\uDD04 Refresh"})}),ek?(0,r.jsx)("div",{className:m.loadingText,children:"Loading name review queue..."}):0===eC.length?(0,r.jsxs)("div",{className:m.noReports,children:[(0,r.jsx)("span",{style:{fontSize:"48px",marginBottom:"16px"},children:"✅"}),(0,r.jsx)("p",{children:"No pending name changes to review"})]}):(0,r.jsx)("div",{className:m.reportsList,children:eC.map(e=>(0,r.jsxs)("div",{className:m.nameReviewCard,children:[(0,r.jsxs)("div",{className:m.nameReviewHeader,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:m.oldName,children:e.user.currentUsername}),(0,r.jsx)("span",{className:m.nameArrow,children:"→"}),(0,r.jsx)("span",{className:m.newName,children:e.requestedUsername})]}),e.rejectionCount>0&&(0,r.jsxs)("span",{className:m.rejectionCount,children:[e.rejectionCount," previous rejection",1!==e.rejectionCount?"s":""]})]}),(0,r.jsxs)("div",{className:m.nameReviewBody,children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Reason for force change:"})," ",e.reason]}),(0,r.jsxs)("p",{className:m.reportDate,children:["Submitted: ",new Date(e.createdAt).toLocaleString()]})]}),(0,r.jsxs)("div",{className:m.nameReviewActions,children:[(0,r.jsx)("button",{className:m.approveBtn,onClick:()=>aN(e._id,"approve"),disabled:eg,children:"✅ Approve"}),(0,r.jsxs)("div",{className:m.rejectSection,children:[(0,r.jsx)("input",{type:"text",placeholder:"Rejection reason...",value:eT[e._id]||"",onChange:a=>eI(s=>({...s,[e._id]:a.target.value})),className:m.rejectInput}),(0,r.jsx)("button",{className:m.rejectBtn,onClick:()=>aN(e._id,"reject"),disabled:eg||!(eT[e._id]||"").trim(),children:"❌ Reject"})]})]})]},e._id))})]}),"auditLogs"===f&&(0,r.jsxs)("div",{className:m.reportsSection,children:[e1&&(0,r.jsxs)("div",{className:m.statsBar,children:[(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Total Actions"}),(0,r.jsx)("span",{className:m.statValue,children:e1.totalActions})]}),(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Unique Moderators"}),(0,r.jsx)("span",{className:m.statValue,children:e1.uniqueModerators})]})]}),(0,r.jsxs)("div",{className:m.filterBar,children:[(0,r.jsxs)("select",{value:e8.moderatorId,onChange:e=>{let a=e.target.value;e2(e=>({...e,moderatorId:a})),ap(1,{moderatorId:a})},className:m.filterSelect,children:[(0,r.jsx)("option",{value:"all",children:"All Moderators"}),e$.map(e=>(0,r.jsxs)("option",{value:e.accountId,children:[e.username," (",e.actionCount," actions)"]},e.accountId))]}),(0,r.jsxs)("select",{value:e8.actionType,onChange:e=>{let a=e.target.value;e2(e=>({...e,actionType:a})),ap(1,{actionType:a})},className:m.filterSelect,children:[(0,r.jsx)("option",{value:"all",children:"All Action Types"}),(0,r.jsx)("option",{value:"ban_permanent",children:"⛔ Permanent Ban"}),(0,r.jsx)("option",{value:"ban_temporary",children:"⏱️ Temporary Ban"}),(0,r.jsx)("option",{value:"unban",children:"✅ Unban"}),(0,r.jsx)("option",{value:"force_name_change",children:"✏️ Force Name Change"}),(0,r.jsx)("option",{value:"undo_force_name_change",children:"↩️ Undo Force Name Change"}),(0,r.jsx)("option",{value:"name_change_approved",children:"\uD83D\uDC4D Name Change Approved"}),(0,r.jsx)("option",{value:"name_change_rejected",children:"\uD83D\uDC4E Name Change Rejected"}),(0,r.jsx)("option",{value:"report_ignored",children:"\uD83D\uDEAB Report Ignored"}),(0,r.jsx)("option",{value:"report_resolved",children:"✔️ Report Resolved"}),(0,r.jsx)("option",{value:"warning",children:"⚠️ Warning"})]}),(0,r.jsx)("button",{onClick:()=>ap(1),className:m.refreshBtn,children:"\uD83D\uDD04 Refresh"})]}),e6.totalPages>1&&(0,r.jsxs)("div",{className:m.pagination,children:[(0,r.jsx)("button",{onClick:()=>ap(e6.page-1),disabled:e6.page<=1||eK,className:m.pageBtn,children:"← Previous"}),(0,r.jsxs)("span",{className:m.pageInfo,children:["Page ",e6.page," of ",e6.totalPages," ","(",e6.totalCount," total)"]}),(0,r.jsx)("button",{onClick:()=>ap(e6.page+1),disabled:e6.page>=e6.totalPages||eK,className:m.pageBtn,children:"Next →"})]}),eK?(0,r.jsx)("div",{className:m.loadingText,children:"Loading audit logs..."}):0===eZ.length?(0,r.jsxs)("div",{className:m.noReports,children:[(0,r.jsx)("span",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCCB"}),(0,r.jsx)("p",{children:"No audit logs found"})]}):(0,r.jsx)("div",{className:m.reportsList,children:eZ.map(e=>{var a,s;return(0,r.jsxs)("div",{className:m.auditLogCard,children:[(0,r.jsxs)("div",{className:m.auditLogHeader,children:[(0,r.jsxs)("span",{className:m.auditLogAction,children:["ban_permanent"===e.actionType&&"⛔ Permanent Ban","ban_temporary"===e.actionType&&"⏱️ Temporary Ban","unban"===e.actionType&&"✅ Unban","force_name_change"===e.actionType&&"✏️ Force Name Change","undo_force_name_change"===e.actionType&&"↩️ Undo Force Name","name_change_approved"===e.actionType&&"\uD83D\uDC4D Name Approved","name_change_rejected"===e.actionType&&"\uD83D\uDC4E Name Rejected","report_ignored"===e.actionType&&"\uD83D\uDEAB Report Ignored","warning"===e.actionType&&"⚠️ Warning"]}),(0,r.jsx)("span",{className:m.auditLogDate,children:new Date(e.createdAt).toLocaleString()})]}),(0,r.jsxs)("div",{className:m.auditLogBody,children:[(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"Target:"}),(0,r.jsx)("span",{className:m.auditLogValue,style:{cursor:"pointer",color:"#58a6ff"},onClick:()=>{B(e.targetUser.accountId),ad()},children:e.targetUser.username})]}),(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"Moderator:"}),(0,r.jsx)("span",{className:m.auditLogValue,children:e.moderator.username})]}),e.reason&&(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"Reason:"}),(0,r.jsx)("span",{className:m.auditLogValue,children:e.reason})]}),e.durationString&&(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"Duration:"}),(0,r.jsx)("span",{className:m.auditLogValue,children:e.durationString})]}),(null==(a=e.nameChange)?void 0:a.oldName)&&(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"Name Change:"}),(0,r.jsxs)("span",{className:m.auditLogValue,children:[e.nameChange.oldName," → ",e.nameChange.newName||"(pending)"]})]}),(null==(s=e.eloRefund)?void 0:s.totalRefunded)>0&&(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"ELO Refunded:"}),(0,r.jsxs)("span",{className:m.auditLogValue,style:{color:"#3fb950"},children:["+",e.eloRefund.totalRefunded," to ",e.eloRefund.opponentsAffected," player(s)"]})]}),e.notes&&(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"Public Note:"}),(0,r.jsx)("span",{className:m.auditLogValue,style:{color:"#d29922"},children:e.notes})]}),e.relatedReports>0&&(0,r.jsxs)("div",{className:m.auditLogRow,children:[(0,r.jsx)("span",{className:m.auditLogLabel,children:"Related Reports:"}),(0,r.jsx)("span",{className:m.auditLogValue,children:e.relatedReports})]})]})]},e._id)})})]}),"activity"===f&&(0,r.jsxs)("div",{className:m.reportsSection,children:[(0,r.jsxs)("div",{className:m.filterBar,children:[(0,r.jsx)("select",{value:"".concat(ar,"-").concat(aa),onChange:e=>{let[a,s]=e.target.value.split("-").map(Number);at(a),as(s),ag(a,s)},className:m.filterSelect,children:(null==e5||null==(v=e5.availableMonths)?void 0:v.length)>0?e5.availableMonths.map(e=>(0,r.jsx)("option",{value:"".concat(e.year,"-").concat(e.month),children:new Date(e.year,e.month-1).toLocaleString("default",{month:"long",year:"numeric"})},"".concat(e.year,"-").concat(e.month))):(0,r.jsx)("option",{value:"".concat(ar,"-").concat(aa),children:new Date(ar,aa-1).toLocaleString("default",{month:"long",year:"numeric"})})}),(0,r.jsx)("button",{onClick:()=>ag(),className:m.refreshBtn,children:"\uD83D\uDD04 Refresh"})]}),e5&&(0,r.jsxs)("div",{className:m.statsBar,children:[(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Total Actions"}),(0,r.jsx)("span",{className:m.statValue,children:e5.grandTotal})]}),(0,r.jsxs)("div",{className:m.statItem,children:[(0,r.jsx)("span",{className:m.statLabel,children:"Active Moderators"}),(0,r.jsx)("span",{className:m.statValue,children:e5.moderators.length})]})]}),(null==e5?void 0:e5.dailyReports)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:m.filterBar,children:(0,r.jsxs)("select",{value:an,onChange:e=>ao(e.target.value),className:m.filterSelect,children:[(0,r.jsx)("option",{value:"all",children:"All Moderators"}),e5.moderators.map(e=>(0,r.jsx)("option",{value:e.accountId,children:e.username},e.accountId))]})}),(0,r.jsx)(u,{dailyReports:e5.dailyReports,selectedMod:an,dailyByModerator:e5.dailyByModerator,moderators:e5.moderators})]}),e9?(0,r.jsx)("div",{className:m.loadingText,children:"Loading activity data..."}):e5&&0!==e5.moderators.length?(()=>{let e=["ban_permanent","ban_temporary","unban","force_name_change","undo_force_name_change","name_change_approved","name_change_rejected","report_ignored","report_resolved","warning","user_deleted"],a={ban_permanent:"Perm Ban",ban_temporary:"Temp Ban",unban:"Unban",force_name_change:"Force Name",undo_force_name_change:"Undo Name",name_change_approved:"Name OK",name_change_rejected:"Name Rej",report_ignored:"Rpt Ignored",report_resolved:"Rpt Resolved",warning:"Warning",user_deleted:"Deleted"};return(0,r.jsx)("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{className:m.activityTable,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Moderator"}),e.map(e=>(0,r.jsx)("th",{children:a[e]},e)),(0,r.jsx)("th",{className:m.activityTotalCol,children:"Total"})]})}),(0,r.jsxs)("tbody",{children:[e5.moderators.map(a=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:a.username}),e.map(e=>(0,r.jsx)("td",{className:a.actions[e]?"":m.activityZero,children:a.actions[e]||"-"},e)),(0,r.jsx)("td",{className:m.activityTotalCol,children:a.totalActions})]},a.accountId)),(0,r.jsxs)("tr",{className:m.activityTotalRow,children:[(0,r.jsx)("td",{children:"Totals"}),e.map(e=>(0,r.jsx)("td",{children:e5.totals[e]||"-"},e)),(0,r.jsx)("td",{className:m.activityTotalCol,children:e5.grandTotal})]})]})]})})})():(0,r.jsxs)("div",{className:m.noReports,children:[(0,r.jsx)("span",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCCA"}),(0,r.jsx)("p",{children:"No activity data for this month"})]})]})]})]})}var g=s(3603);function _(){let[e,a]=(0,n.useState)(null),[s,d]=(0,n.useState)(!0),i=(0,l.useRouter)();return((0,n.useEffect)(()=>{(async()=>{try{window.cConfig=(0,g.A)();let e=localStorage.getItem("wg_secret");if(console.log("Found wg_secret in localStorage:",e?"YES":"NO"),!e){console.log("No secret found, redirecting to home"),i.push("/");return}let s=await fetch(window.cConfig.apiUrl+"/api/mod/userLookup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:e,username:"self"})});if(s.ok){let r=await s.json(),t={token:{secret:e,staff:r.targetUser.staff},user:r.targetUser};console.log("Session created:",t),a(t)}else console.log("Failed to verify secret, redirecting to home"),i.push("/")}catch(e){console.error("Session check error:",e),i.push("/")}d(!1)})()},[i]),s)?(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%)",color:"#fff",position:"relative"},children:(0,r.jsxs)("div",{style:{textAlign:"center",padding:"40px",background:"rgba(36, 87, 52, 0.1)",borderRadius:"20px",border:"1px solid rgba(36, 87, 52, 0.3)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},className:"jsx-19f867101a3d704",children:[(0,r.jsx)("div",{style:{fontSize:"3rem",marginBottom:"20px",animation:"pulse 2s ease-in-out infinite"},className:"jsx-19f867101a3d704",children:"\uD83C\uDF0D"}),(0,r.jsx)("div",{style:{fontSize:"1.2rem",fontWeight:"600",marginBottom:"10px",color:"#4CAF50"},className:"jsx-19f867101a3d704",children:"WorldGuessr"}),(0,r.jsx)("div",{style:{fontSize:"1rem",opacity:"0.8"},className:"jsx-19f867101a3d704",children:"Loading mod dashboard..."}),(0,r.jsx)(t,{id:"19f867101a3d704",children:"@keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.8}}"})]})}):e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o,{children:[(0,r.jsx)("title",{children:"Mod Dashboard - WorldGuessr"}),(0,r.jsx)("meta",{name:"description",content:"Moderator dashboard for WorldGuessr"}),(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,r.jsx)("style",{children:"\n          .mainBody {\n            user-select: auto !important;\n            overflow: auto !important;\n          }\n        "})]}),(0,r.jsx)(p,{session:e})]}):null}},8847:(e,a,s)=>{e.exports=s(1147)}},e=>{e.O(0,[230,329,173,238,636,593,792],()=>e(e.s=4716)),_N_E=e.O()}]);